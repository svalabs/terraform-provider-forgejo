---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "forgejo_repository_branch_protection Resource - forgejo"
subcategory: ""
description: |-
  Forgejo repository branch protection resource.
---

# forgejo_repository_branch_protection (Resource)

Forgejo repository branch protection resource.

## Example Usage

```terraform
terraform {
  required_providers {
    forgejo = {
      source = "svalabs/forgejo"
    }
  }
}

provider "forgejo" {
  host = "http://localhost:3000"
}

# Personal repository
resource "forgejo_repository" "test_repo" {
  name           = "personal_test_repo"
  description    = "Terraform Test Repo owned by user"
  website        = "http://localhost:3000"
  private        = true
  template       = true
  default_branch = "custom"

  issue_labels = "Default"
  auto_init    = true
  readme       = "Default"
  trust_model  = "collaborator"
}

# Example how to import existing branch protections
# id follows the format: <owner>/<repo>/<branch>
import {
  id = "tfadmin/personal_test_repo/main"
  to = forgejo_repository_branch_protection.main
}

# Branch protection on the main branch
resource "forgejo_repository_branch_protection" "main" {
  branch_name   = "main"
  repository_id = forgejo_repository.test_repo.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `branch_name` (String) Name of the branch to protect (can be a pattern).
- `repository_id` (Number) The ID of the repository.

### Optional

- `approvals_whitelist_teams` (List of String) Teams that can approve.
- `approvals_whitelist_usernames` (List of String) Usernames that can approve.
- `block_on_official_review_requests` (Boolean) Block merge on official review requests.
- `block_on_outdated_branch` (Boolean) Block merge on outdated branch.
- `block_on_rejected_reviews` (Boolean) Block merge on rejected reviews.
- `dismiss_stale_approvals` (Boolean) Dismiss stale approvals.
- `enable_approvals_whitelist` (Boolean) Enable approvals whitelist.
- `enable_merge_whitelist` (Boolean) Enable merge whitelist.
- `enable_push` (Boolean) Enable push to the branch.
- `enable_push_whitelist` (Boolean) Enable push whitelist.
- `enable_status_check` (Boolean) Enable status checks.
- `merge_whitelist_teams` (List of String) Teams allowed to merge.
- `merge_whitelist_usernames` (List of String) Usernames allowed to merge.
- `protected_file_patterns` (String) Patterns for protected files.
- `push_whitelist_deploy_keys` (Boolean) Allow deploy keys to push.
- `push_whitelist_teams` (List of String) Teams allowed to push.
- `push_whitelist_usernames` (List of String) Usernames allowed to push.
- `require_signed_commits` (Boolean) Require signed commits.
- `required_approvals` (Number) Number of required approvals.
- `status_check_contexts` (List of String) Status check contexts that must pass.
- `unprotected_file_patterns` (String) Patterns for unprotected files.
